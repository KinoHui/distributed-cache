1. 持久化
2. 分区容错：节点间通信失败怎么办
3. 如何实现动态扩缩容，并且动态感知节点的新增，新增之后数据如何迁移
4. 
---
1. 持久化优化思路

  现状分析：
   - 当前项目使用内存缓存（LRU算法），数据存在易失性问题
   - 重启后缓存数据丢失，需要重新从数据源加载

  优化方案：
   - AOF（Append Only File）持久化：记录写操作日志，重启时重放
   - RDB（Redis Database）快照：定期将内存数据快照保存到磁盘
   - 混合持久化：结合AOF和RDB的优势，既保证数据安全又优化恢复速度
   - 异步持久化：使用后台线程处理持久化，避免阻塞主线程

  技术实现：
   - 增加持久化接口，支持多种持久化策略
   - 实现WAL（Write-Ahead Log）机制
   - 考虑数据压缩和序列化优化

  2. 分区容错优化

  现状分析：
   - 当前使用HTTP进行节点间通信
   - 缺乏心跳检测和故障转移机制

  优化方案：
   - 心跳机制：定期检测节点健康状态
   - 故障检测：使用Gossip协议或Raft算法检测节点故障
   - 自动故障转移：主节点故障时自动选举新的主节点
   - 重试机制：通信失败时的指数退避重试策略
   - 熔断器模式：防止级联故障

  技术实现：
   - 实现服务注册与发现机制
   - 添加健康检查端点
   - 引入分布式协调组件（如etcd）

  3. 动态扩缩容优化

  现状分析：
   - 当前节点地址硬编码在main.go中
   - 缺乏动态节点发现和数据迁移机制

  优化方案：
   - 服务发现：使用Consul、etcd或Zookeeper实现节点自动发现
   - 一致性哈希优化：支持虚拟节点，减少数据迁移量
   - 渐进式数据迁移：避免大规模数据迁移影响服务可用性
   - 自动负载均衡：基于节点负载自动调整数据分布

  技术实现：
   - 实现动态节点注册/注销API
   - 优化consistenthash算法支持动态调整
   - 添加数据迁移协调器